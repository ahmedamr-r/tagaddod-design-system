import{j as u}from"./jsx-runtime-BO8uF4Og.js";import{r as s}from"./index-D4H_InIO.js";import{c as C}from"./index-DW48STyt.js";import{c as J,u as V,P as Q,d as Z}from"./index-D7-T4lOe.js";import{c as q,R as ee,A as te,P as oe,a as re,D as ne,C as se}from"./index-CxljV1N8.js";import{u as ae}from"./index-N3eucVg6.js";import{P as G}from"./index-BTe66ZhM.js";import{u as ie}from"./index-DavpLpmr.js";import{R as le}from"./index-ComwvWTa.js";import{c as ce}from"./clsx-B-dksMZM.js";var[j]=J("Tooltip",[q]),O=q(),F="TooltipProvider",ue=700,D="tooltip.open",[de,N]=j(F),B=t=>{const{__scopeTooltip:o,delayDuration:e=ue,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:i}=t,l=s.useRef(!0),f=s.useRef(!1),a=s.useRef(0);return s.useEffect(()=>{const p=a.current;return()=>window.clearTimeout(p)},[]),u.jsx(de,{scope:o,isOpenDelayedRef:l,delayDuration:e,onOpen:s.useCallback(()=>{window.clearTimeout(a.current),l.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:s.useCallback(p=>{f.current=p},[]),disableHoverableContent:n,children:i})};B.displayName=F;var R="Tooltip",[pe,E]=j(R),U=t=>{const{__scopeTooltip:o,children:e,open:r,defaultOpen:n,onOpenChange:i,disableHoverableContent:l,delayDuration:f}=t,a=N(R,t.__scopeTooltip),p=O(o),[c,m]=s.useState(null),v=ae(),d=s.useRef(0),h=l??a.disableHoverableContent,y=f??a.delayDuration,x=s.useRef(!1),[g,T]=ie({prop:r,defaultProp:n??!1,onChange:H=>{H?(a.onOpen(),document.dispatchEvent(new CustomEvent(D))):a.onClose(),i==null||i(H)},caller:R}),w=s.useMemo(()=>g?x.current?"delayed-open":"instant-open":"closed",[g]),P=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,x.current=!1,T(!0)},[T]),_=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,T(!1)},[T]),I=s.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{x.current=!0,T(!0),d.current=0},y)},[y,T]);return s.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),u.jsx(ee,{...p,children:u.jsx(pe,{scope:o,contentId:v,open:g,stateAttribute:w,trigger:c,onTriggerChange:m,onTriggerEnter:s.useCallback(()=>{a.isOpenDelayedRef.current?I():P()},[a.isOpenDelayedRef,I,P]),onTriggerLeave:s.useCallback(()=>{h?_():(window.clearTimeout(d.current),d.current=0)},[_,h]),onOpen:P,onClose:_,disableHoverableContent:h,children:e})})};U.displayName=R;var A="TooltipTrigger",Y=s.forwardRef((t,o)=>{const{__scopeTooltip:e,...r}=t,n=E(A,e),i=N(A,e),l=O(e),f=s.useRef(null),a=V(o,f,n.onTriggerChange),p=s.useRef(!1),c=s.useRef(!1),m=s.useCallback(()=>p.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),u.jsx(te,{asChild:!0,...l,children:u.jsx(Q.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:a,onPointerMove:C(t.onPointerMove,v=>{v.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),c.current=!0)}),onPointerLeave:C(t.onPointerLeave,()=>{n.onTriggerLeave(),c.current=!1}),onPointerDown:C(t.onPointerDown,()=>{n.open&&n.onClose(),p.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:C(t.onFocus,()=>{p.current||n.onOpen()}),onBlur:C(t.onBlur,n.onClose),onClick:C(t.onClick,n.onClose)})})});Y.displayName=A;var k="TooltipPortal",[fe,me]=j(k,{forceMount:void 0}),$=t=>{const{__scopeTooltip:o,forceMount:e,children:r,container:n}=t,i=E(k,o);return u.jsx(fe,{scope:o,forceMount:e,children:u.jsx(G,{present:e||i.open,children:u.jsx(oe,{asChild:!0,container:n,children:r})})})};$.displayName=k;var b="TooltipContent",W=s.forwardRef((t,o)=>{const e=me(b,t.__scopeTooltip),{forceMount:r=e.forceMount,side:n="top",...i}=t,l=E(b,t.__scopeTooltip);return u.jsx(G,{present:r||l.open,children:l.disableHoverableContent?u.jsx(X,{side:n,...i,ref:o}):u.jsx(ve,{side:n,...i,ref:o})})}),ve=s.forwardRef((t,o)=>{const e=E(b,t.__scopeTooltip),r=N(b,t.__scopeTooltip),n=s.useRef(null),i=V(o,n),[l,f]=s.useState(null),{trigger:a,onClose:p}=e,c=n.current,{onPointerInTransitChange:m}=r,v=s.useCallback(()=>{f(null),m(!1)},[m]),d=s.useCallback((h,y)=>{const x=h.currentTarget,g={x:h.clientX,y:h.clientY},T=Te(g,x.getBoundingClientRect()),w=ge(g,T),P=Ce(y.getBoundingClientRect()),_=we([...w,...P]);f(_),m(!0)},[m]);return s.useEffect(()=>()=>v(),[v]),s.useEffect(()=>{if(a&&c){const h=x=>d(x,c),y=x=>d(x,a);return a.addEventListener("pointerleave",h),c.addEventListener("pointerleave",y),()=>{a.removeEventListener("pointerleave",h),c.removeEventListener("pointerleave",y)}}},[a,c,d,v]),s.useEffect(()=>{if(l){const h=y=>{const x=y.target,g={x:y.clientX,y:y.clientY},T=(a==null?void 0:a.contains(x))||(c==null?void 0:c.contains(x)),w=!be(g,l);T?v():w&&(v(),p())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[a,c,l,p,v]),u.jsx(X,{...t,ref:i})}),[he,xe]=j(R,{isInside:!1}),ye=Z("TooltipContent"),X=s.forwardRef((t,o)=>{const{__scopeTooltip:e,children:r,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:l,...f}=t,a=E(b,e),p=O(e),{onClose:c}=a;return s.useEffect(()=>(document.addEventListener(D,c),()=>document.removeEventListener(D,c)),[c]),s.useEffect(()=>{if(a.trigger){const m=v=>{const d=v.target;d!=null&&d.contains(a.trigger)&&c()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[a.trigger,c]),u.jsx(ne,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:c,children:u.jsxs(se,{"data-state":a.stateAttribute,...p,...f,ref:o,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(ye,{children:r}),u.jsx(he,{scope:e,isInside:!0,children:u.jsx(le,{id:a.contentId,role:"tooltip",children:n||r})})]})})});W.displayName=b;var K="TooltipArrow",z=s.forwardRef((t,o)=>{const{__scopeTooltip:e,...r}=t,n=O(e);return xe(K,e).isInside?null:u.jsx(re,{...n,...r,ref:o})});z.displayName=K;function Te(t,o){const e=Math.abs(o.top-t.y),r=Math.abs(o.bottom-t.y),n=Math.abs(o.right-t.x),i=Math.abs(o.left-t.x);switch(Math.min(e,r,n,i)){case i:return"left";case n:return"right";case e:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ge(t,o,e=5){const r=[];switch(o){case"top":r.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":r.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":r.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":r.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return r}function Ce(t){const{top:o,right:e,bottom:r,left:n}=t;return[{x:n,y:o},{x:e,y:o},{x:e,y:r},{x:n,y:r}]}function be(t,o){const{x:e,y:r}=t;let n=!1;for(let i=0,l=o.length-1;i<o.length;l=i++){const f=o[i],a=o[l],p=f.x,c=f.y,m=a.x,v=a.y;c>r!=v>r&&e<(m-p)*(r-c)/(v-c)+p&&(n=!n)}return n}function we(t){const o=t.slice();return o.sort((e,r)=>e.x<r.x?-1:e.x>r.x?1:e.y<r.y?-1:e.y>r.y?1:0),Pe(o)}function Pe(t){if(t.length<=1)return t.slice();const o=[];for(let r=0;r<t.length;r++){const n=t[r];for(;o.length>=2;){const i=o[o.length-1],l=o[o.length-2];if((i.x-l.x)*(n.y-l.y)>=(i.y-l.y)*(n.x-l.x))o.pop();else break}o.push(n)}o.pop();const e=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;e.length>=2;){const i=e[e.length-1],l=e[e.length-2];if((i.x-l.x)*(n.y-l.y)>=(i.y-l.y)*(n.x-l.x))e.pop();else break}e.push(n)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}var _e=B,Re=U,Ee=Y,je=$,Oe=W,De=z;const Ae="_content_13mxv_1",Le="_arrow_13mxv_45",M={content:Ae,arrow:Le},S=_e,L=({content:t,children:o,delayDuration:e=200,side:r,align:n="center",sideOffset:i=8,alignOffset:l=0,disabled:f=!1,className:a})=>{const c={lineHeight:typeof document<"u"&&(document.dir==="rtl"||document.documentElement.dir==="rtl")?"var(--t-line-height-arabic, 1.2)":"var(--t-line-height-english, 1.5)"};return f?u.jsx(u.Fragment,{children:o}):u.jsxs(Re,{delayDuration:e,children:[u.jsx(Ee,{asChild:!0,children:o}),u.jsx(je,{children:u.jsxs(Oe,{className:ce(M.content,a),...r&&{side:r},align:n,sideOffset:i,alignOffset:l,style:c,children:[t,u.jsx(De,{className:M.arrow})]})})]})};L.displayName="Tooltip";try{S.displayName="TooltipProvider",S.__docgenInfo={description:"",displayName:"TooltipProvider",props:{}}}catch{}try{L.displayName="Tooltip",L.__docgenInfo={description:"",displayName:"Tooltip",props:{content:{defaultValue:null,description:"The content to display inside the tooltip",name:"content",required:!0,type:{name:"ReactNode"}},children:{defaultValue:null,description:"The trigger element that shows the tooltip on hover",name:"children",required:!0,type:{name:"ReactNode"}},delayDuration:{defaultValue:{value:"200"},description:"How long to delay opening the tooltip in ms",name:"delayDuration",required:!1,type:{name:"number | undefined"}},side:{defaultValue:null,description:"The preferred side of the trigger to render against. If not specified, Radix will automatically position the tooltip based on available space",name:"side",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"left"'},{value:'"right"'},{value:'"bottom"'},{value:'"top"'}]}},align:{defaultValue:{value:"center"},description:"The alignment relative to the trigger",name:"align",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"center"'},{value:'"end"'},{value:'"start"'}]}},sideOffset:{defaultValue:{value:"8"},description:"The distance in pixels from the trigger",name:"sideOffset",required:!1,type:{name:"number | undefined"}},alignOffset:{defaultValue:{value:"0"},description:"The alignment offset in pixels",name:"alignOffset",required:!1,type:{name:"number | undefined"}},disabled:{defaultValue:{value:"false"},description:"Whether the tooltip should be disabled",name:"disabled",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:null,description:"Additional CSS class name",name:"className",required:!1,type:{name:"string | undefined"}}}}}catch{}export{L as T,S as a};
