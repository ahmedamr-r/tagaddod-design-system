import{j as o}from"./jsx-runtime-Cf8x2fCZ.js";import{r as s}from"./index-BlmOqGMO.js";import{c as P}from"./index-DW48STyt.js";import{P as T,u as Q,c as _e}from"./index-CfQheYXo.js";import{u as Y}from"./index-pvuVTQ3b.js";import{c as G}from"./clsx-B-dksMZM.js";import{c as Z}from"./createReactComponent-GuN14Mgc.js";import{I as xe}from"./IconX-5Dn7YNlv.js";/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ce=Z("outline","exclamation-circle","IconExclamationCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 9v4",key:"svg-1"}],["path",{d:"M12 16v.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var be=Z("outline","eye-off","IconEyeOff",[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.33.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ge=Z("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]),Fe="Label",le=s.forwardRef((e,t)=>o.jsx(T.label,{...e,ref:t,onMouseDown:r=>{var c;r.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));le.displayName=Fe;var[ee,xt]=_e("Form"),te="Form",[Ee,D]=ee(te),[Me,ce]=ee(te),de=s.forwardRef((e,t)=>{const{__scopeForm:r,onClearServerErrors:l=()=>{},...c}=e,d=s.useRef(null),v=Q(t,d),[u,f]=s.useState({}),m=s.useCallback(n=>u[n],[u]),F=s.useCallback((n,p)=>f(i=>({...i,[n]:{...i[n]??{},...p}})),[]),V=s.useCallback(n=>{f(p=>({...p,[n]:void 0})),a(p=>({...p,[n]:{}}))},[]),[_,C]=s.useState({}),j=s.useCallback(n=>_[n]??[],[_]),M=s.useCallback((n,p)=>{C(i=>({...i,[n]:[...i[n]??[],p]}))},[]),x=s.useCallback((n,p)=>{C(i=>({...i,[n]:(i[n]??[]).filter(E=>E.id!==p)}))},[]),[I,a]=s.useState({}),y=s.useCallback(n=>I[n]??{},[I]),b=s.useCallback((n,p)=>{a(i=>({...i,[n]:{...i[n]??{},...p}}))},[]),[g,w]=s.useState({}),A=s.useCallback((n,p)=>{w(i=>{const E=new Set(i[n]).add(p);return{...i,[n]:E}})},[]),S=s.useCallback((n,p)=>{w(i=>{const E=new Set(i[n]);return E.delete(p),{...i,[n]:E}})},[]),z=s.useCallback(n=>Array.from(g[n]??[]).join(" ")||void 0,[g]);return o.jsx(Ee,{scope:r,getFieldValidity:m,onFieldValidityChange:F,getFieldCustomMatcherEntries:j,onFieldCustomMatcherEntryAdd:M,onFieldCustomMatcherEntryRemove:x,getFieldCustomErrors:y,onFieldCustomErrorsChange:b,onFieldValiditionClear:V,children:o.jsx(Me,{scope:r,onFieldMessageIdAdd:A,onFieldMessageIdRemove:S,getFieldDescription:z,children:o.jsx(T.form,{...c,ref:v,onInvalid:P(e.onInvalid,n=>{const p=pe(n.currentTarget);p===n.target&&p.focus(),n.preventDefault()}),onSubmit:P(e.onSubmit,l,{checkForDefaultPrevented:!1}),onReset:P(e.onReset,l)})})})});de.displayName=te;var re="FormField",[Ie,se]=ee(re),ue=s.forwardRef((e,t)=>{const{__scopeForm:r,name:l,serverInvalid:c=!1,...d}=e,u=D(re,r).getFieldValidity(l),f=Y();return o.jsx(Ie,{scope:r,id:f,name:l,serverInvalid:c,children:o.jsx(T.div,{"data-valid":ae(u,c),"data-invalid":oe(u,c),...d,ref:t})})});ue.displayName=re;var X="FormLabel",me=s.forwardRef((e,t)=>{const{__scopeForm:r,...l}=e,c=D(X,r),d=se(X,r),v=l.htmlFor||d.id,u=c.getFieldValidity(d.name);return o.jsx(le,{"data-valid":ae(u,d.serverInvalid),"data-invalid":oe(u,d.serverInvalid),...l,ref:t,htmlFor:v})});me.displayName=X;var B="FormControl",fe=s.forwardRef((e,t)=>{const{__scopeForm:r,...l}=e,c=D(B,r),d=se(B,r),v=ce(B,r),u=s.useRef(null),f=Q(t,u),m=l.name||d.name,F=l.id||d.id,V=c.getFieldCustomMatcherEntries(m),{onFieldValidityChange:_,onFieldCustomErrorsChange:C,onFieldValiditionClear:j}=c,M=s.useCallback(async a=>{if(he(a.validity)){const i=K(a.validity);_(m,i);return}const y=a.form?new FormData(a.form):new FormData,b=[a.value,y],g=[],w=[];V.forEach(i=>{Ne(i,b)?w.push(i):Pe(i)&&g.push(i)});const A=g.map(({id:i,match:E})=>[i,E(...b)]),S=Object.fromEntries(A),z=Object.values(S).some(Boolean),n=z;a.setCustomValidity(n?L:"");const p=K(a.validity);if(_(m,p),C(m,S),!z&&w.length>0){const i=w.map(({id:$,match:k})=>k(...b).then(N=>[$,N])),E=await Promise.all(i),R=Object.fromEntries(E),W=Object.values(R).some(Boolean);a.setCustomValidity(W?L:"");const H=K(a.validity);_(m,H),C(m,R)}},[V,m,C,_]);s.useEffect(()=>{const a=u.current;if(a){const y=()=>M(a);return a.addEventListener("change",y),()=>a.removeEventListener("change",y)}},[M]);const x=s.useCallback(()=>{const a=u.current;a&&(a.setCustomValidity(""),j(m))},[m,j]);s.useEffect(()=>{var y;const a=(y=u.current)==null?void 0:y.form;if(a)return a.addEventListener("reset",x),()=>a.removeEventListener("reset",x)},[x]),s.useEffect(()=>{const a=u.current,y=a==null?void 0:a.closest("form");if(y&&d.serverInvalid){const b=pe(y);b===a&&b.focus()}},[d.serverInvalid]);const I=c.getFieldValidity(m);return o.jsx(T.input,{"data-valid":ae(I,d.serverInvalid),"data-invalid":oe(I,d.serverInvalid),"aria-invalid":d.serverInvalid?!0:void 0,"aria-describedby":v.getFieldDescription(m),title:"",...l,ref:f,id:F,name:m,onInvalid:P(e.onInvalid,a=>{const y=a.currentTarget;M(y)}),onChange:P(e.onChange,a=>{x()})})});fe.displayName=B;var L="This value is not valid",je={badInput:L,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},q="FormMessage",Ve=s.forwardRef((e,t)=>{const{match:r,name:l,...c}=e,d=se(q,e.__scopeForm),v=l??d.name;return r===void 0?o.jsx(ne,{...c,ref:t,name:v,children:e.children||L}):typeof r=="function"?o.jsx(ze,{match:r,...c,ref:t,name:v}):o.jsx(we,{match:r,...c,ref:t,name:v})});Ve.displayName=q;var we=s.forwardRef((e,t)=>{const{match:r,forceMatch:l=!1,name:c,children:d,...v}=e,f=D(q,v.__scopeForm).getFieldValidity(c);return l||(f==null?void 0:f[r])?o.jsx(ne,{ref:t,...v,name:c,children:d??je[r]}):null}),ze=s.forwardRef((e,t)=>{const{match:r,forceMatch:l=!1,name:c,id:d,children:v,...u}=e,f=D(q,u.__scopeForm),m=s.useRef(null),F=Q(t,m),V=Y(),_=d??V,C=s.useMemo(()=>({id:_,match:r}),[_,r]),{onFieldCustomMatcherEntryAdd:j,onFieldCustomMatcherEntryRemove:M}=f;s.useEffect(()=>(j(c,C),()=>M(c,C.id)),[C,c,j,M]);const x=f.getFieldValidity(c),a=f.getFieldCustomErrors(c)[_];return l||x&&!he(x)&&a?o.jsx(ne,{id:_,ref:F,...u,name:c,children:v??L}):null}),ne=s.forwardRef((e,t)=>{const{__scopeForm:r,id:l,name:c,...d}=e,v=ce(q,r),u=Y(),f=l??u,{onFieldMessageIdAdd:m,onFieldMessageIdRemove:F}=v;return s.useEffect(()=>(m(c,f),()=>F(c,f)),[c,f,m,F]),o.jsx(T.span,{id:f,...d,ref:t})}),Se="FormSubmit",Re=s.forwardRef((e,t)=>{const{__scopeForm:r,...l}=e;return o.jsx(T.button,{type:"submit",...l,ref:t})});Re.displayName=Se;function K(e){const t={};for(const r in e)t[r]=e[r];return t}function Te(e){return e instanceof HTMLElement}function Ae(e){return"validity"in e}function ke(e){return Ae(e)&&(e.validity.valid===!1||e.getAttribute("aria-invalid")==="true")}function pe(e){const t=e.elements,[r]=Array.from(t).filter(Te).filter(ke);return r}function Ne(e,t){return e.match.constructor.name==="AsyncFunction"||Le(e.match,t)}function Pe(e){return e.match.constructor.name==="Function"}function Le(e,t){return e(...t)instanceof Promise}function he(e){let t=!1;for(const r in e){const l=r;if(l!=="valid"&&l!=="customError"&&e[l]){t=!0;break}}return t}function ae(e,t){if((e==null?void 0:e.valid)===!0&&!t)return!0}function oe(e,t){if((e==null?void 0:e.valid)===!1||t)return!0}var De=de,qe=ue,Oe=me,Be=fe;const We="_container_1lrzp_3",He="_fullWidth_1lrzp_10",$e="_labelContainer_1lrzp_15",Ue="_label_1lrzp_15",Ge="_required_1lrzp_56",Ke="_optional_1lrzp_61",Xe="_inputWrapper_1lrzp_69",Je="_input_1lrzp_69",Qe="_disabled_1lrzp_111",Ye="_readOnly_1lrzp_117",Ze="_prefix_1lrzp_130",et="_suffix_1lrzp_139",tt="_withPrefix_1lrzp_150",rt="_withSuffix_1lrzp_154",st="_sizeMicro_1lrzp_159",nt="_sizeMedium_1lrzp_182",at="_sizeLarge_1lrzp_197",ot="_iconButton_1lrzp_221",it="_error_1lrzp_243",lt="_errorMessage_1lrzp_251",ct="_errorIcon_1lrzp_288",dt="_helpText_1lrzp_293",h={container:We,fullWidth:He,labelContainer:$e,label:Ue,required:Ge,optional:Ke,inputWrapper:Xe,input:Je,disabled:Qe,readOnly:Ye,prefix:Ze,suffix:et,withPrefix:tt,withSuffix:rt,sizeMicro:st,sizeMedium:nt,sizeLarge:at,iconButton:ot,error:it,errorMessage:lt,errorIcon:ct,helpText:dt},J=s.forwardRef(({label:e,name:t,id:r,value:l,defaultValue:c,placeholder:d,helpText:v,errorMessage:u,required:f,disabled:m,readOnly:F,className:V,size:_="medium",fullWidth:C=!1,hideLabel:j=!1,optional:M=!1,prefix:x,suffix:I,clearable:a=!1,onClear:y,type:b="text",onChange:g,...w},A)=>{const[S,z]=s.useState(""),[n,p]=s.useState(!1),i=r||`text-input-${Math.random().toString(36).substr(2,9)}`,R={lineHeight:document.dir==="rtl"||document.documentElement.dir==="rtl"?"var(--t-line-height-arabic, 1.2)":"var(--t-line-height-english, 1.5)"};s.useEffect(()=>{l!==void 0&&z(String(l))},[l]);const ie=O=>{z(O.target.value),g==null||g(O)},W=()=>{z("");const O={target:{value:"",name:t},currentTarget:{value:"",name:t}};g==null||g(O),y==null||y()},H=()=>{p(!n)},$=b==="password"&&n?"text":b,k=b==="password"?o.jsx("button",{type:"button",className:h.iconButton,onClick:H,"aria-label":n?"Hide password":"Show password",tabIndex:-1,children:n?o.jsx(be,{size:18}):o.jsx(ge,{size:18})}):null,N=a&&S?o.jsx("button",{type:"button",className:h.iconButton,onClick:W,"aria-label":"Clear input",tabIndex:-1,children:o.jsx(xe,{size:18})}):null,ve=o.jsxs(o.Fragment,{children:[I,k,N]}),U=!!u,ye=`size${_.charAt(0).toUpperCase()+_.slice(1)}`;return o.jsx(De,{className:G(h.container,U&&h.error,h[ye],C&&h.fullWidth,V),children:o.jsxs(qe,{name:t||"text-field",children:[e&&!j&&o.jsx("div",{className:h.labelContainer,children:o.jsxs(Oe,{className:h.label,style:R,children:[e,f&&o.jsx("span",{className:h.required,children:"*"}),M&&o.jsx("span",{className:h.optional,children:"(Optional)"})]})}),o.jsxs("div",{className:G(h.inputWrapper,m&&h.disabled,F&&h.readOnly),children:[x&&o.jsx("div",{className:h.prefix,children:x}),o.jsx(Be,{asChild:!0,children:o.jsx("input",{ref:A,id:i,className:G(h.input,x&&h.withPrefix,(I||N||k)&&h.withSuffix),name:t,value:l===void 0?S:l,placeholder:d,required:f,disabled:m,readOnly:F,type:$,onChange:ie,"aria-invalid":U,"aria-describedby":`${i}-helptext ${i}-error`,...w})}),(I||N||k)&&o.jsx("div",{className:h.suffix,children:ve})]}),U?o.jsxs("div",{id:`${i}-error`,className:h.errorMessage,style:R,children:[o.jsx(Ce,{size:16,className:h.errorIcon}),u]}):v?o.jsx("div",{id:`${i}-helptext`,className:h.helpText,style:R,children:v}):null]})})});J.displayName="TextInput";try{J.displayName="TextInput",J.__docgenInfo={description:"",displayName:"TextInput",props:{label:{defaultValue:null,description:"Text label displayed above the input",name:"label",required:!1,type:{name:"string | undefined"}},helpText:{defaultValue:null,description:"Help text displayed below the input",name:"helpText",required:!1,type:{name:"string | undefined"}},errorMessage:{defaultValue:null,description:"Error message displayed below the input",name:"errorMessage",required:!1,type:{name:"string | undefined"}},size:{defaultValue:{value:"medium"},description:"Size of the input field",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"medium"'},{value:'"large"'},{value:'"micro"'}]}},fullWidth:{defaultValue:{value:"false"},description:"Whether the input should take full width of its container",name:"fullWidth",required:!1,type:{name:"boolean | undefined"}},hideLabel:{defaultValue:{value:"false"},description:"Whether to hide the label visually (still accessible to screen readers)",name:"hideLabel",required:!1,type:{name:"boolean | undefined"}},optional:{defaultValue:{value:"false"},description:'Mark the field as optional, displaying "(Optional)" text next to label',name:"optional",required:!1,type:{name:"boolean | undefined"}},prefix:{defaultValue:null,description:"Content to display before the input text (icon or text)",name:"prefix",required:!1,type:{name:"ReactNode"}},suffix:{defaultValue:null,description:"Content to display after the input text (icon or text)",name:"suffix",required:!1,type:{name:"ReactNode"}},clearable:{defaultValue:{value:"false"},description:"Whether to show a clear button when the input has a value",name:"clearable",required:!1,type:{name:"boolean | undefined"}},onClear:{defaultValue:null,description:"Callback when the clear button is clicked",name:"onClear",required:!1,type:{name:"(() => void) | undefined"}},readOnly:{defaultValue:null,description:"Whether the field is read-only",name:"readOnly",required:!1,type:{name:"boolean | undefined"}}}}}catch{}export{J as T};
