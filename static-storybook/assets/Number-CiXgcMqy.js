import{j as a}from"./jsx-runtime-BO8uF4Og.js";import{r as i}from"./index-D4H_InIO.js";import{R as ve,F as ye,L as ze,C as Ve}from"./index-QFq3N9B_.js";import{c as w}from"./clsx-B-dksMZM.js";import{I as ge}from"./IconChevronUp-BrVbvfGP.js";import{I as we}from"./IconChevronDown-D1vfiZl2.js";import{I as Ne}from"./IconExclamationCircle-BYkI5IG6.js";import{I as Ie}from"./IconX-DigCVOFI.js";const qe="_container_1hazb_3",Se="_fullWidth_1hazb_9",je="_labelContainer_1hazb_14",Ce="_label_1hazb_14",Te="_required_1hazb_53",Me="_optional_1hazb_58",We="_inputWrapper_1hazb_72",ke="_input_1hazb_72",De="_disabled_1hazb_155",Ee="_readOnly_1hazb_161",Le="_stepperButton_1hazb_167",Re="_prefix_1hazb_178",Fe="_suffix_1hazb_185",Ue="_withPrefix_1hazb_205",Be="_withSuffix_1hazb_209",Xe="_stepperContainer_1hazb_214",$e="_stepperUp_1hazb_254",He="_iconButton_1hazb_259",Pe="_sizeXlarge_1hazb_283",Ae="_helpText_1hazb_310",Ye="_errorMessage_1hazb_311",Ge="_sizeLarge_1hazb_334",Je="_sizeMedium_1hazb_385",Qe="_sizeSmall_1hazb_436",Ze="_sizeXsmall_1hazb_487",Ke="_error_1hazb_311",Oe="_errorIcon_1hazb_588",l={container:qe,fullWidth:Se,labelContainer:je,label:Ce,required:Te,optional:Me,inputWrapper:We,input:ke,disabled:De,readOnly:Ee,stepperButton:Le,prefix:Re,suffix:Fe,withPrefix:Ue,withSuffix:Be,stepperContainer:Xe,stepperUp:$e,iconButton:He,sizeXlarge:Pe,helpText:Ae,errorMessage:Ye,sizeLarge:Ge,sizeMedium:Je,sizeSmall:Qe,sizeXsmall:Ze,error:Ke,errorIcon:Oe},H=i.forwardRef(({label:j,name:P,id:te,value:s,defaultValue:A,placeholder:ne,helpText:Y,errorMessage:G,required:le,disabled:m,readOnly:x,className:ae,size:C="medium",fullWidth:re=!1,hideLabel:se=!1,optional:ie=!1,prefix:T,suffix:M,clearable:ue=!1,onClear:W,onChange:_,min:u,max:c,step:f=1,formatOptions:t,hideSteppers:J=!1,disableWheel:Q=!1,onBlur:k,onFocus:D,onKeyDown:E,...ce},h)=>{const[d,L]=i.useState(()=>s!==void 0?s:A!==void 0?A:null),[R,v]=i.useState(""),[o,Z]=i.useState(!1),K=i.useRef(null),p=i.useRef(null),y=te||`number-input-${Math.random().toString(36).substr(2,9)}`,z={lineHeight:typeof document<"u"&&(document.dir==="rtl"||document.documentElement.dir==="rtl")?"var(--t-line-height-arabic, 1.2)":"var(--t-line-height-english, 1.5)"},V=i.useCallback(e=>{if(e===null||isNaN(e))return"";if(t!=null&&t.style||(t==null?void 0:t.minimumFractionDigits)!==void 0){const n=new Intl.NumberFormat("en-US",{style:(t==null?void 0:t.style)||"decimal",currency:t==null?void 0:t.currency,minimumFractionDigits:t==null?void 0:t.minimumFractionDigits,maximumFractionDigits:t==null?void 0:t.maximumFractionDigits}),r=((t==null?void 0:t.style)==="percent",e);return n.format(r)}return String(e)},[t]),O=i.useCallback(e=>{if(!e||e==="")return null;let n=e.replace(/[,$%\s]/g,"");n.startsWith("(")&&n.endsWith(")")&&(n="-"+n.slice(1,-1));const r=parseFloat(n);return isNaN(r)?null:(t==null?void 0:t.style)==="percent"&&!o?r/100:r},[t==null?void 0:t.style,o]),g=i.useCallback(e=>e===null?null:u!==void 0&&e<u?u:c!==void 0&&e>c?c:e,[u,c]),F=i.useCallback(e=>{if(e===null||f===0)return e;const n=u!==void 0?u:0,r=Math.round((e-n)/f)*f+n;return g(r)},[u,f,g]),b=i.useCallback((e,n=!1)=>{const r=g(e),$=n?F(r):r;L($),(!o||n)&&v(V($)),_==null||_($)},[g,F,V,_,o]),N=i.useCallback(()=>{const r=((s!==void 0?s:d)??u??0)+f;b(r,!0)},[s,d,u,f,b]),I=i.useCallback(()=>{const r=((s!==void 0?s:d)??c??0)-f;b(r,!0)},[s,d,c,f,b]),de=e=>{const n=e.target.value;v(n);const r=O(n);(r!==null||n==="")&&b(r)},oe=e=>{Z(!1);const n=O(R),r=F(g(n));b(r,!0),k==null||k(e)},pe=e=>{Z(!0);const n=s!==void 0?s:d;n!==null&&v(String(n)),D==null||D(e)},fe=e=>{e.key==="ArrowUp"?(e.preventDefault(),N()):e.key==="ArrowDown"?(e.preventDefault(),I()):e.key==="Home"&&u!==void 0?(e.preventDefault(),b(u,!0)):e.key==="End"&&c!==void 0&&(e.preventDefault(),b(c,!0)),E==null||E(e)},U=i.useCallback(e=>{!Q&&o&&!x&&!m&&(e.preventDefault(),e.deltaY<0?N():e.deltaY>0&&I())},[Q,o,x,m,N,I]),he=()=>{L(null),v(""),_==null||_(null),W==null||W()},ee=e=>{if(m||x)return;const n=e==="up"?N:I;n(),p.current=setTimeout(()=>{const r=setInterval(n,50);p.current=r},500)},q=()=>{p.current&&(clearTimeout(p.current),clearInterval(p.current),p.current=null)};i.useEffect(()=>{s!==void 0&&!o&&(L(s),v(V(s)))},[s,V,o]),i.useEffect(()=>{o||v(V(s!==void 0?s:d))},[]),i.useEffect(()=>{const e=K.current||(h==null?void 0:h.current);if(e)return e.addEventListener("wheel",U,{passive:!1}),()=>{e.removeEventListener("wheel",U)}},[U,h]),i.useEffect(()=>()=>{p.current&&(clearTimeout(p.current),clearInterval(p.current))},[]);const S=(e=>{switch(e){case"xlarge":return 20;case"large":return 18;case"medium":return 16;case"small":return 14;case"xsmall":return 12;default:return 16}})(C),B=ue&&R?a.jsx("button",{type:"button",className:l.iconButton,onClick:he,"aria-label":"Clear input",tabIndex:-1,children:a.jsx(Ie,{size:S})}):null,be=!J&&!x?a.jsxs("div",{className:l.stepperContainer,children:[a.jsx("button",{type:"button",className:w(l.stepperButton,l.stepperUp),onMouseDown:()=>ee("up"),onMouseUp:q,onMouseLeave:q,disabled:m||c!==void 0&&(d??0)>=c,"aria-label":"Increment value",tabIndex:-1,children:a.jsx(ge,{size:S})}),a.jsx("button",{type:"button",className:w(l.stepperButton,l.stepperDown),onMouseDown:()=>ee("down"),onMouseUp:q,onMouseLeave:q,disabled:m||u!==void 0&&(d??0)<=u,"aria-label":"Decrement value",tabIndex:-1,children:a.jsx(we,{size:S})})]}):null,me=a.jsxs(a.Fragment,{children:[M,B]}),X=!!G,_e=`size${C.charAt(0).toUpperCase()+C.slice(1)}`,xe=s!==void 0?s:d;return a.jsx(ve,{className:w(l.container,X&&l.error,l[_e],re&&l.fullWidth,ae),children:a.jsxs(ye,{name:P||"number-field",children:[j&&!se&&a.jsx("div",{className:l.labelContainer,children:a.jsxs(ze,{className:l.label,style:z,children:[j,ie&&a.jsx("span",{className:l.optional,style:z,children:"(Optional)"})]})}),a.jsxs("div",{className:w(l.inputWrapper,m&&l.disabled,x&&l.readOnly,!J&&l.withSteppers),children:[T&&a.jsx("div",{className:l.prefix,children:T}),a.jsx(Ve,{asChild:!0,children:a.jsx("input",{ref:e=>{typeof h=="function"?h(e):h&&(h.current=e),K.current=e},id:y,className:w(l.input,T&&l.withPrefix,(M||B)&&l.withSuffix),style:z,name:P,value:R,placeholder:ne,required:le,disabled:m,readOnly:x,type:"text",inputMode:"decimal",onChange:de,onBlur:oe,onFocus:pe,onKeyDown:fe,"aria-invalid":X,"aria-describedby":`${y}-helptext ${y}-error`,role:"spinbutton","aria-valuenow":xe??void 0,"aria-valuemin":u,"aria-valuemax":c,...ce})}),(M||B)&&a.jsx("div",{className:l.suffix,children:me}),be]}),X&&a.jsxs("div",{id:`${y}-error`,className:l.errorMessage,style:z,children:[a.jsx(Ne,{size:S,className:l.errorIcon}),G]}),Y&&a.jsx("div",{id:`${y}-helptext`,className:l.helpText,style:z,children:Y})]})})});H.displayName="Number";try{H.displayName="Number",H.__docgenInfo={description:"",displayName:"Number",props:{label:{defaultValue:null,description:"Text label displayed above the input",name:"label",required:!1,type:{name:"string | undefined"}},helpText:{defaultValue:null,description:"Help text displayed below the input",name:"helpText",required:!1,type:{name:"string | undefined"}},errorMessage:{defaultValue:null,description:"Error message displayed below the input",name:"errorMessage",required:!1,type:{name:"string | undefined"}},size:{defaultValue:{value:"medium"},description:"Size of the input field",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"small"'},{value:'"medium"'},{value:'"large"'},{value:'"xlarge"'},{value:'"xsmall"'}]}},fullWidth:{defaultValue:{value:"false"},description:"Whether the input should take full width of its container",name:"fullWidth",required:!1,type:{name:"boolean | undefined"}},hideLabel:{defaultValue:{value:"false"},description:"Whether to hide the label visually (still accessible to screen readers)",name:"hideLabel",required:!1,type:{name:"boolean | undefined"}},optional:{defaultValue:{value:"false"},description:'Mark the field as optional, displaying "(Optional)" text next to label',name:"optional",required:!1,type:{name:"boolean | undefined"}},prefix:{defaultValue:null,description:"Content to display before the input text (icon or text)",name:"prefix",required:!1,type:{name:"ReactNode"}},suffix:{defaultValue:null,description:"Content to display after the input text (icon or text)",name:"suffix",required:!1,type:{name:"ReactNode"}},clearable:{defaultValue:{value:"false"},description:"Whether to show a clear button when the input has a value",name:"clearable",required:!1,type:{name:"boolean | undefined"}},onClear:{defaultValue:null,description:"Callback when the clear button is clicked",name:"onClear",required:!1,type:{name:"(() => void) | undefined"}},readOnly:{defaultValue:null,description:"Whether the field is read-only",name:"readOnly",required:!1,type:{name:"boolean | undefined"}},value:{defaultValue:null,description:"The current numeric value",name:"value",required:!1,type:{name:"number | null | undefined"}},defaultValue:{defaultValue:null,description:"The default numeric value",name:"defaultValue",required:!1,type:{name:"number | undefined"}},min:{defaultValue:null,description:"The minimum allowed value",name:"min",required:!1,type:{name:"number | undefined"}},max:{defaultValue:null,description:"The maximum allowed value",name:"max",required:!1,type:{name:"number | undefined"}},step:{defaultValue:{value:"1"},description:"The step increment value",name:"step",required:!1,type:{name:"number | undefined"}},formatOptions:{defaultValue:null,description:"Number formatting options",name:"formatOptions",required:!1,type:{name:"NumberFormatOptions | undefined"}},hideSteppers:{defaultValue:{value:"false"},description:"Whether to hide the increment/decrement stepper buttons",name:"hideSteppers",required:!1,type:{name:"boolean | undefined"}},disableWheel:{defaultValue:{value:"false"},description:"Whether to disable mouse wheel input",name:"disableWheel",required:!1,type:{name:"boolean | undefined"}},onChange:{defaultValue:null,description:"Callback when the value changes",name:"onChange",required:!1,type:{name:"((value: number | null) => void) | undefined"}}}}}catch{}export{H as N};
