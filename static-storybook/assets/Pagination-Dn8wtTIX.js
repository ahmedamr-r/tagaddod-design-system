import{j as e}from"./jsx-runtime-BO8uF4Og.js";import{r as p}from"./index-D4H_InIO.js";import{c as M}from"./clsx-B-dksMZM.js";import{B as P}from"./Button-CoP_mZBT.js";import{P as G}from"./Popover-B4T-UWsl.js";import{I as $}from"./IconChevronLeft-BDjp6y3L.js";import{I as L}from"./IconChevronRight-D3J9D-fl.js";import{I as E}from"./IconChevronDown-D1vfiZl2.js";const A="_pagination_c39ia_1",H="_count_c39ia_15",W="_controlsGroup_c39ia_46",J="_paginationItems_c39ia_52",K="_rowsPerPage_c39ia_63",Q="_rowsButton_c39ia_70",U="_rowsLabel_c39ia_96",X="_rowsValue_c39ia_102",Y="_chevron_c39ia_108",Z="_popoverContent_c39ia_155",ee="_popoverOption_c39ia_163",ne="_popoverOptionSelected_c39ia_182",te="_ellipsis_c39ia_259",a={pagination:A,count:H,controlsGroup:W,paginationItems:J,rowsPerPage:K,rowsButton:Q,rowsLabel:U,rowsValue:X,chevron:Y,popoverContent:Z,popoverOption:ee,popoverOptionSelected:ne,ellipsis:te},w="...",C=({total:i,current:f,pageSize:x=10,siblingCount:l=1})=>{const s=Math.ceil(i/x),h=(v,y)=>{const _=y-v+1;return Array.from({length:_},(t,u)=>v+u)};return{paginationRange:p.useMemo(()=>{const v=Math.max(1,Math.min(f,s)),y=l*2+5;if(s<=y)return h(1,s);const _=Math.max(v-l,1),t=Math.min(v+l,s),u=_>2,r=t<s-1,j=1,S=s;if(!u&&r){const m=3+2*l;return[...h(1,m),w,s]}if(u&&!r){const m=3+2*l,d=h(s-m+1,s);return[j,w,...d]}if(u&&r){const m=h(_,t);return[j,w,...m,w,S]}return h(1,s)},[i,f,x,l]),totalPages:s,currentPage:f}},T=({total:i,current:f=1,pageSize:x=10,onChange:l,onPageSizeChange:s,showCount:h=!0,showRowsInPage:V=!0,countType:v="long",className:y,pageSizeOptions:_=[10,20,50,100]})=>{const[t,u]=p.useState(f),[r,j]=p.useState(x),[S,m]=p.useState(!1),[d,B]=p.useState(!1);p.useEffect(()=>{u(f)},[f]),p.useEffect(()=>{j(x)},[x]),p.useEffect(()=>{const n=()=>{const o=document.dir==="rtl"||document.documentElement.dir==="rtl";B(c=>c!==o?o:c)};n();const g=new MutationObserver(o=>{o.some(k=>k.type==="attributes"&&k.attributeName==="dir")&&n()});return g.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}),()=>{g.disconnect()}},[]);const{paginationRange:R,totalPages:I}=C({total:i,current:t,pageSize:r,siblingCount:v==="long"?1:0}),N=n=>{n!==t&&(u(n),l==null||l(n,r))},z=()=>{t>1&&N(t-1)},O=()=>{t<I&&N(t+1)},F=n=>{j(n),u(1),l==null||l(1,n),s==null||s(n),m(!1)},D=p.useMemo(()=>{const n=i===0?0:(t-1)*r+1,g=Math.min(t*r,i);return`Showing ${n} to ${g} of ${i} entries`},[t,r,i]),b={lineHeight:d?"var(--t-line-height-arabic, 1.2)":"var(--t-line-height-english, 1.5)"},q=n=>e.jsx("div",{className:a.ellipsis,"aria-hidden":"true",children:"•••"},n);return i===0||I<=0?null:e.jsxs("div",{className:M(a.pagination,y),children:[h&&e.jsx("div",{className:a.count,style:b,children:d?`عرض ${(t-1)*r+1} إلى ${Math.min(t*r,i)} من أصل ${i}`:D}),e.jsxs("div",{className:a.controlsGroup,children:[e.jsx("div",{className:a.paginationItems,children:d?e.jsxs(e.Fragment,{children:[e.jsx(P,{size:"xSmall",variant:"outlined",tone:"neutral",onClick:O,disabled:t===I,"aria-label":"Next page",prefixIcon:e.jsx($,{size:16})}),[...R].reverse().map((n,g)=>{if(n===w)return q(`ellipsis-rtl-${g}`);const o=n,c=o===t;return e.jsx(P,{size:"xSmall",variant:c?"primary":"outlined",tone:c?"default":"neutral",onClick:()=>N(o),"aria-current":c?"page":void 0,children:o},`page-rtl-${o}`)}),e.jsx(P,{size:"xSmall",variant:"outlined",tone:"neutral",onClick:z,disabled:t===1,"aria-label":"Previous page",prefixIcon:e.jsx(L,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{size:"xSmall",variant:"outlined",tone:"neutral",onClick:z,disabled:t===1,"aria-label":"Previous page",prefixIcon:e.jsx($,{size:16})}),R.map((n,g)=>{if(n===w)return q(`ellipsis-${g}`);const o=n,c=o===t;return e.jsx(P,{size:"xSmall",variant:c?"primary":"outlined",tone:c?"default":"neutral",onClick:()=>N(o),"aria-current":c?"page":void 0,children:o},`page-${o}`)}),e.jsx(P,{size:"xSmall",variant:"outlined",tone:"neutral",onClick:O,disabled:t===I,"aria-label":"Next page",suffixIcon:e.jsx(L,{size:16})})]})}),V&&e.jsx("div",{className:a.rowsPerPage,children:e.jsx(G,{open:S,onOpenChange:m,side:"bottom",align:d?"start":"end",margin:"none",content:e.jsx("div",{className:a.popoverContent,children:_.map(n=>e.jsx("button",{className:M(a.popoverOption,n===r&&a.popoverOptionSelected),onClick:()=>F(n),style:b,children:n},n))}),children:e.jsx("button",{className:a.rowsButton,"aria-label":d?"عدد الصفوف":"Rows in Page","data-state":S?"open":"closed",children:d?e.jsxs(e.Fragment,{children:[e.jsx(E,{size:16,className:a.chevron}),e.jsx("span",{className:a.rowsValue,style:b,children:r}),e.jsx("span",{className:a.rowsLabel,style:b,children:"عدد الصفوف"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:a.rowsLabel,style:b,children:"Rows in Page"}),e.jsx("span",{className:a.rowsValue,style:b,children:r}),e.jsx(E,{size:16,className:a.chevron})]})})})})]})]})};try{C.displayName="usePagination",C.__docgenInfo={description:"Pagination hook to calculate the range of pages to display",displayName:"usePagination",props:{total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}},current:{defaultValue:{value:"1"},description:"",name:"current",required:!1,type:{name:"number"}},pageSize:{defaultValue:{value:"10"},description:"",name:"pageSize",required:!1,type:{name:"number | undefined"}},siblingCount:{defaultValue:{value:"1"},description:"",name:"siblingCount",required:!1,type:{name:"number | undefined"}}}}}catch{}try{T.displayName="Pagination",T.__docgenInfo={description:"Pagination component",displayName:"Pagination",props:{total:{defaultValue:null,description:"Total number of items",name:"total",required:!0,type:{name:"number"}},current:{defaultValue:{value:"1"},description:"Current page number (1-based)",name:"current",required:!1,type:{name:"number | undefined"}},pageSize:{defaultValue:{value:"10"},description:"Number of items per page",name:"pageSize",required:!1,type:{name:"number | undefined"}},onChange:{defaultValue:null,description:"Callback when page is changed",name:"onChange",required:!1,type:{name:"((page: number, pageSize?: number | undefined) => void) | undefined"}},onPageSizeChange:{defaultValue:null,description:"Callback when page size is changed",name:"onPageSizeChange",required:!1,type:{name:"((pageSize: number) => void) | undefined"}},showCount:{defaultValue:{value:"true"},description:"Whether to show the count text",name:"showCount",required:!1,type:{name:"boolean | undefined"}},showRowsInPage:{defaultValue:{value:"true"},description:"Whether to show the rows per page selector",name:"showRowsInPage",required:!1,type:{name:"boolean | undefined"}},countType:{defaultValue:{value:"long"},description:`Count type
'short': Show all page numbers (up to 8)
'long': Show ellipsis for large number of pages`,name:"countType",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"short"'},{value:'"long"'}]}},className:{defaultValue:null,description:"Custom class name",name:"className",required:!1,type:{name:"string | undefined"}},pageSizeOptions:{defaultValue:{value:"[10, 20, 50, 100]"},description:"Available page sizes for the selector",name:"pageSizeOptions",required:!1,type:{name:"number[] | undefined"}}}}}catch{}export{T as P};
