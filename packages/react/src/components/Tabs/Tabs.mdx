import { Meta, Story, Controls, Canvas, ArgTypes } from '@storybook/blocks';
import * as TabsStories from './Tabs.stories';
import { Tabs, TabsList, TabsTrigger, TabsContent } from './Tabs';

<Meta of={TabsStories} />

# Tabs Component

The Tabs component allows users to navigate between related sections of content, displaying one section at a time while keeping all options visible and accessible.

## Overview

Tabs are a fundamental navigation pattern that organizes content into separate views that users can switch between without changing the page. The Tagaddod Tabs component is built on Radix UI primitives to ensure full accessibility while providing flexible design options.

Use Tabs when:
- Content can be organized into discrete categories
- Users need to navigate between related sections
- You want to keep the interface clean and organized
- Screen space is limited and you need to show one view at a time

## Import

```jsx
import { Tabs, TabsList, TabsTrigger, TabsContent } from '@tagaddod/react';
```

## Component Structure

The Tabs component consists of four main parts:

1. **Tabs** - The container that provides context to its children
2. **TabsList** - The container for the tab triggers
3. **TabsTrigger** - The clickable buttons that users interact with
4. **TabsContent** - The content associated with each tab

## Props

### Tabs Props

<ArgTypes of={Tabs} />

### TabsTrigger Props

<ArgTypes of={TabsTrigger} />

### TabsContent Props

<ArgTypes of={TabsContent} />

## Basic Usage

<Canvas of={TabsStories.Default} />

```jsx
import { Tabs, TabsList, TabsTrigger, TabsContent } from '@tagaddod/react';

<Tabs defaultValue="tab1" ariaLabel="Content tabs">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2">Tab 2</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
  </TabsList>
  <TabsContent value="tab1">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      Tab one content
    </div>
  </TabsContent>
  <TabsContent value="tab2">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      Tab two content
    </div>
  </TabsContent>
  <TabsContent value="tab3">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      Tab three content
    </div>
  </TabsContent>
</Tabs>
```

## Variants

### Primary Tabs

The primary variant is the default, featuring an underline indicator.

<Canvas of={TabsStories.Primary} />

```jsx
<Tabs variant="primary" defaultValue="tab1" ariaLabel="Primary tabs example">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2">Tab 2</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
  </TabsList>
  <TabsContent value="tab1">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      Primary variant - Tab one content
    </div>
  </TabsContent>
  {/* Other tab contents */}
</Tabs>
```

### Secondary Tabs

The secondary variant has a more subtle appearance with background highlighting.

<Canvas of={TabsStories.Secondary} />

```jsx
<Tabs variant="secondary" defaultValue="tab1" ariaLabel="Secondary tabs example">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2">Tab 2</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
  </TabsList>
  <TabsContent value="tab1">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      Secondary variant - Tab one content
    </div>
  </TabsContent>
  {/* Other tab contents */}
</Tabs>
```

## Layout Options

### Standard Tabs

By default, tabs take up only the space needed for their content.

<Canvas of={TabsStories.Default} />

### Fitted Tabs

Fitted tabs distribute evenly across the available width, making them suitable for full-width containers.

<Canvas of={TabsStories.Fitted} />

```jsx
<Tabs fitted defaultValue="tab1" ariaLabel="Fitted tabs example">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2">Tab 2</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
  </TabsList>
  <TabsContent value="tab1">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      Fitted tabs - Tab one content
    </div>
  </TabsContent>
  {/* Other tab contents */}
</Tabs>
```

### Vertical Orientation

For certain interfaces, tabs can be displayed vertically.

<Canvas of={TabsStories.VerticalOrientation} />

```jsx
<Tabs 
  orientation="vertical" 
  variant="secondary"
  defaultValue="tab1" 
  ariaLabel="Vertical tabs example"
>
  <div style={{ display: 'flex', gap: '20px' }}>
    <TabsList style={{ flexDirection: 'column', alignItems: 'flex-start' }}>
      <TabsTrigger value="tab1">Account</TabsTrigger>
      <TabsTrigger value="tab2">Security</TabsTrigger>
      <TabsTrigger value="tab3">Notifications</TabsTrigger>
    </TabsList>
    <div style={{ flex: 1 }}>
      <TabsContent value="tab1">
        <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px', minHeight: '150px' }}>
          <h3>Account Settings</h3>
          <p>Manage your account information.</p>
        </div>
      </TabsContent>
      {/* Other tab contents */}
    </div>
  </div>
</Tabs>
```

## Tab Features

### With Badge

Add badges to indicate counts or status.

<Canvas of={TabsStories.WithBadge} />

```jsx
<Tabs defaultValue="tab1" ariaLabel="Tabs with badge">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2" badge="3">Tab 2</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
  </TabsList>
  {/* Tab contents */}
</Tabs>
```

### With Icon

Include icons to visually represent tab content.

<Canvas of={TabsStories.WithIcon} />

```jsx
import { IconHome, IconUser, IconSettings } from '@tabler/icons-react';

<Tabs defaultValue="tab1" ariaLabel="Tabs with icons">
  <TabsList>
    <TabsTrigger value="tab1" icon={<IconHome size={18} />}>Home</TabsTrigger>
    <TabsTrigger value="tab2" icon={<IconUser size={18} />}>Profile</TabsTrigger>
    <TabsTrigger value="tab3" icon={<IconSettings size={18} />}>Settings</TabsTrigger>
  </TabsList>
  {/* Tab contents */}
</Tabs>
```

### With Icon and Badge

Combine icons and badges for rich tab indicators.

<Canvas of={TabsStories.WithIconAndBadge} />

```jsx
import { IconHome, IconBell, IconSettings } from '@tabler/icons-react';

<Tabs defaultValue="tab1" ariaLabel="Tabs with icons and badge">
  <TabsList>
    <TabsTrigger value="tab1" icon={<IconHome size={18} />}>Home</TabsTrigger>
    <TabsTrigger value="tab2" icon={<IconBell size={18} />} badge="5">Notifications</TabsTrigger>
    <TabsTrigger value="tab3" icon={<IconSettings size={18} />}>Settings</TabsTrigger>
  </TabsList>
  {/* Tab contents */}
</Tabs>
```

### Disabled Tab

Disable specific tabs that are currently unavailable.

<Canvas of={TabsStories.DisabledTab} />

```jsx
<Tabs defaultValue="tab1" ariaLabel="Tabs with disabled tab">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2" disabled>Tab 2 (Disabled)</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
  </TabsList>
  {/* Tab contents */}
</Tabs>
```

## Tab Count Options

The Tabs component supports 2-6 tabs with optimized styling for each configuration.

### Two Tabs

<Canvas of={TabsStories.Count2} />

```jsx
<Tabs count={2} defaultValue="tab1">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2">Tab 2</TabsTrigger>
  </TabsList>
  {/* Tab contents */}
</Tabs>
```

### Four Tabs

<Canvas of={TabsStories.Count4} />

```jsx
<Tabs count={4} defaultValue="tab1">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2">Tab 2</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
    <TabsTrigger value="tab4">Tab 4</TabsTrigger>
  </TabsList>
  {/* Tab contents */}
</Tabs>
```

### Six Tabs

<Canvas of={TabsStories.Count6} />

```jsx
<Tabs count={6} defaultValue="tab1">
  <TabsList>
    <TabsTrigger value="tab1">Tab 1</TabsTrigger>
    <TabsTrigger value="tab2">Tab 2</TabsTrigger>
    <TabsTrigger value="tab3">Tab 3</TabsTrigger>
    <TabsTrigger value="tab4">Tab 4</TabsTrigger>
    <TabsTrigger value="tab5">Tab 5</TabsTrigger>
    <TabsTrigger value="tab6">Tab 6</TabsTrigger>
  </TabsList>
  {/* Tab contents */}
</Tabs>
```

## Internationalization

The Tabs component properly handles Right-to-Left (RTL) languages.

<Canvas of={TabsStories.RTL} />

```jsx
<Tabs dir="rtl" defaultValue="tab1" ariaLabel="RTL tabs example">
  <TabsList>
    <TabsTrigger value="tab1" icon={<IconHome size={18} />}>الرئيسية</TabsTrigger>
    <TabsTrigger value="tab2" icon={<IconUser size={18} />} badge="3">الملف الشخصي</TabsTrigger>
    <TabsTrigger value="tab3" icon={<IconSettings size={18} />}>الإعدادات</TabsTrigger>
  </TabsList>
  <TabsContent value="tab1">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      محتوى التبويب الأول
    </div>
  </TabsContent>
  {/* Other tab contents */}
</Tabs>
```

## Controlled vs Uncontrolled

### Uncontrolled

Use the `defaultValue` prop for uncontrolled tabs.

```jsx
<Tabs defaultValue="tab1">
  {/* Tabs content */}
</Tabs>
```

### Controlled

For more control, manage the state yourself and use the `value` and `onValueChange` props.

```jsx
import { useState } from 'react';

function ControlledTabs() {
  const [activeTab, setActiveTab] = useState('tab1');
  
  return (
    <Tabs 
      value={activeTab} 
      onValueChange={setActiveTab}
    >
      <TabsList>
        <TabsTrigger value="tab1">Tab 1</TabsTrigger>
        <TabsTrigger value="tab2">Tab 2</TabsTrigger>
        <TabsTrigger value="tab3">Tab 3</TabsTrigger>
      </TabsList>
      <TabsContent value="tab1">Tab 1 Content</TabsContent>
      <TabsContent value="tab2">Tab 2 Content</TabsContent>
      <TabsContent value="tab3">Tab 3 Content</TabsContent>
      
      <div style={{ marginTop: '16px' }}>
        <p>Current tab: {activeTab}</p>
        <button onClick={() => setActiveTab('tab1')}>Go to Tab 1</button>
        <button onClick={() => setActiveTab('tab2')}>Go to Tab 2</button>
        <button onClick={() => setActiveTab('tab3')}>Go to Tab 3</button>
      </div>
    </Tabs>
  );
}
```

## Common Use Cases

### Navigation Tabs

<Canvas of={TabsStories.CommonUseCases} />

```jsx
import { IconHome, IconUser, IconMessage, IconSettings } from '@tabler/icons-react';

<Tabs defaultValue="home" variant="primary" fitted ariaLabel="Main navigation">
  <TabsList>
    <TabsTrigger value="home" icon={<IconHome size={18} />} description="View your dashboard">Home</TabsTrigger>
    <TabsTrigger value="profile" icon={<IconUser size={18} />} description="View and edit your profile">Profile</TabsTrigger>
    <TabsTrigger value="messages" icon={<IconMessage size={18} />} badge="3" description="Read your messages">Messages</TabsTrigger>
    <TabsTrigger value="settings" icon={<IconSettings size={18} />} description="Configure your account settings">Settings</TabsTrigger>
  </TabsList>
  <TabsContent value="home">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      <h4>Welcome to the Dashboard</h4>
      <p>This is the main view of your application.</p>
    </div>
  </TabsContent>
  {/* Other tab contents */}
</Tabs>
```

### Form Sections

Organize multi-step forms into logical sections.

```jsx
<Tabs defaultValue="personal" variant="secondary" ariaLabel="Registration form sections">
  <TabsList>
    <TabsTrigger value="personal" description="Fill in personal information">Personal Info</TabsTrigger>
    <TabsTrigger value="address" description="Fill in address details">Address</TabsTrigger>
    <TabsTrigger value="payment" description="Add payment information">Payment</TabsTrigger>
  </TabsList>
  <TabsContent value="personal">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      <h4>Personal Information</h4>
      <form>
        <label htmlFor="name">Full Name</label>
        <input id="name" name="name" type="text" />
        
        <label htmlFor="email">Email</label>
        <input id="email" name="email" type="email" />
        
        <label htmlFor="phone">Phone</label>
        <input id="phone" name="phone" type="tel" />
      </form>
    </div>
  </TabsContent>
  {/* Other form sections */}
</Tabs>
```

### Settings Panel with Vertical Tabs

Create a vertical navigation panel for settings.

```jsx
<Tabs defaultValue="account" variant="secondary" orientation="vertical" ariaLabel="Settings navigation">
  <div style={{ display: 'flex', gap: '20px' }}>
    <TabsList style={{ flexDirection: 'column', alignItems: 'flex-start' }}>
      <TabsTrigger value="account" icon={<IconUser size={18} />} description="Manage account settings">Account</TabsTrigger>
      <TabsTrigger value="security" icon={<IconSettings size={18} />} description="Adjust security options">Security</TabsTrigger>
      <TabsTrigger value="notifications" icon={<IconBell size={18} />} badge="2" description="Configure notifications">Notifications</TabsTrigger>
    </TabsList>
    <div style={{ flex: 1 }}>
      <TabsContent value="account">
        <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px', minHeight: '200px' }}>
          <h4>Account Settings</h4>
          <p>Manage your account information, profile picture, and personal details.</p>
        </div>
      </TabsContent>
      {/* Other tab contents */}
    </div>
  </div>
</Tabs>
```

### Dashboard Metrics

Display different metrics in a dashboard.

```jsx
<Tabs defaultValue="overview" fitted ariaLabel="Dashboard metrics">
  <TabsList>
    <TabsTrigger value="overview">Overview</TabsTrigger>
    <TabsTrigger value="sales">Sales</TabsTrigger>
    <TabsTrigger value="traffic" badge="↑12%">Traffic</TabsTrigger>
    <TabsTrigger value="conversion">Conversion</TabsTrigger>
  </TabsList>
  <TabsContent value="overview">
    <div style={{ padding: '16px', backgroundColor: '#f9fafb', borderRadius: '8px' }}>
      <h4>Dashboard Overview</h4>
      {/* Overview metrics and charts */}
    </div>
  </TabsContent>
  {/* Other metric contents */}
</Tabs>
```

## Accessibility

<Canvas of={TabsStories.AccessibilityFeatures} />

The Tabs component follows accessibility best practices:

- **WAI-ARIA Compliance**: Uses appropriate ARIA roles, states, and properties:
  - `role="tablist"` for the tab container
  - `role="tab"` for individual tabs
  - `role="tabpanel"` for tab content
  - `aria-selected` to indicate the selected tab
  - `aria-controls` to associate tabs with their panels
  - `aria-labelledby` to associate panels with their tabs

- **Keyboard Navigation**:
  - `Tab` to move focus to the tab list
  - `Arrow keys` to navigate between tabs
  - `Space/Enter` to select a tab
  - `Home/End` to jump to the first/last tab

- **Focus Management**:
  - When a tab is activated, focus automatically moves to the associated panel
  - Clear focus indicators for keyboard users
  - Proper tab order for logical navigation

- **Screen Reader Support**:
  - Each tab can include a `description` for additional screen reader context
  - Proper labeling of the tab list with `ariaLabel` or `ariaLabelledby` 
  - Appropriate announcement of tab selection changes

- **Motion Sensitivity**:
  - Animations respect the `prefers-reduced-motion` setting
  - Subtle transitions that don't cause distraction

- **RTL Support**:
  - Full right-to-left language support
  - Appropriate arrow key direction reversal in RTL mode

Example with accessible description for screen readers:

```jsx
<Tabs 
  defaultValue="account" 
  variant="primary" 
  ariaLabel="Account management tabs"
>
  <TabsList>
    <TabsTrigger 
      value="account" 
      description="View and edit your account information"
    >
      Account Info
    </TabsTrigger>
    <TabsTrigger 
      value="password" 
      description="Change your account password"
    >
      Password
    </TabsTrigger>
    <TabsTrigger 
      value="preferences" 
      description="Manage your email and notification settings"
    >
      Preferences
    </TabsTrigger>
  </TabsList>
  {/* Tab contents */}
</Tabs>
```

## Implementation Details

### CSS Variables

The Tabs component uses the following token CSS variables:

| Variable | Purpose |
|----------|---------|
| `--t-space-*` | Padding and spacing |
| `--t-font-family-primary` | Font family |
| `--t-font-size-*` | Font sizes for different elements |
| `--t-font-weight-*` | Font weights |
| `--t-color-text-*` | Text colors |
| `--t-color-border-*` | Border colors |
| `--t-color-surface-*` | Background colors |
| `--t-color-fill-*` | Brand colors |
| `--t-color-badge-*` | Badge colors |
| `--t-border-radius-*` | Border radius |
| `--t-duration-*` | Animation duration |
| `--t-easing-*` | Animation timing functions |
| `--t-line-height-arabic` | Line height for Arabic text |
| `--t-line-height-english` | Line height for English text |

### Animations

The Tabs component includes several animations that enhance the user experience:

- **Tab Indicator**: The active indicator smoothly transitions between tabs
- **Content Fade**: Tab content fades in when activated
- **Hover Effects**: Subtle background and color changes on hover
- **Selection Animation**: Smooth transitions when a tab is selected
- **Badge State Changes**: Badge appearance changes with tab states

All animations respect the user's `prefers-reduced-motion` setting.

<Canvas of={TabsStories.AnimationShowcase} />

### Badge States

Badge styling changes based on the tab state:

<Canvas of={TabsStories.BadgeStatesShowcase} />

### Technical Architecture

The Tabs component is built on Radix UI's primitives and includes:

- **State Management**: Tab selection state
- **Event Handling**: Click handlers and keyboard interactions
- **Composition**: Multiple sub-components (TabsList, TabsTrigger, TabsContent)
- **Styling**: CSS modules with proper scoping
- **Accessibility**: ARIA attributes and keyboard navigation
- **Internationalization**: RTL support and dynamic line height

### Browser Support

The Tabs component is compatible with all modern browsers:

- Chrome (latest)
- Firefox (latest)
- Safari (latest)
- Edge (latest)
- Mobile browsers (iOS Safari, Android Chrome)

RTL language support works across all supported browsers.

## Best Practices

1. **Use clear labels**: Keep tab labels short and descriptive
2. **Include icons**: When appropriate, use icons to enhance recognition
3. **Order logically**: Arrange tabs in a logical sequence or priority order
4. **Limit tab count**: Aim for 2-6 tabs; use other navigation for more options
5. **Match content height**: Try to keep content panels a similar height to prevent jarring layout shifts
6. **Maintain context**: Ensure users don't lose their place when switching tabs
7. **Preserve state**: When using controlled tabs, preserve content state between tab switches
8. **Be responsive**: Consider how tabs will behave on different screen sizes
9. **Badge appropriately**: Use badges for counts or status indicators, not decorative purposes
10. **Horizontal vs vertical**: Choose horizontal tabs for top-level navigation and vertical tabs for settings or sections with many options
